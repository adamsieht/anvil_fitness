{% extends 'base.html' %}

{% block title %}Management Dashboard - Anvil Fitness{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row mb-4">
        <div class="col-12">
            <h1 class="display-4">Management Dashboard</h1>
            <p class="lead text-muted">Manage your clients and inquiries</p>
            <hr>
        </div>
    </div>

    <!-- Statistics Overview -->
    <div class="row mb-5">
        <div class="col-md-6 col-lg-3 mb-3">
            <div class="card bg-warning text-dark h-100">
                <div class="card-body">
                    <h5 class="card-title">
                        <i class="fas fa-clock"></i> Pending Leads
                    </h5>
                    <p class="display-4 mb-0">{{ total_pending_leads }}</p>
                    <small>Awaiting review</small>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-3 mb-3">
            <div class="card bg-success text-white h-100">
                <div class="card-body">
                    <h5 class="card-title">
                        <i class="fas fa-check-circle"></i> Active Clients
                    </h5>
                    <p class="display-4 mb-0">{{ total_active }}</p>
                    <small>Currently paying</small>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-3 mb-3">
            <div class="card bg-info text-white h-100">
                <div class="card-body">
                    <h5 class="card-title">
                        <i class="fas fa-phone"></i> Contacted Clients
                    </h5>
                    <p class="display-4 mb-0">{{ total_contacted }}</p>
                    <small>Agreed but not paid</small>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-3 mb-3">
            <div class="card bg-secondary text-white h-100">
                <div class="card-body">
                    <h5 class="card-title">
                        <i class="fas fa-users"></i> Total Clients
                    </h5>
                    <p class="display-4 mb-0">{{ total_clients }}</p>
                    <small>All client records</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="row">
        <div class="col-12 mb-3">
            <h3>Quick Actions</h3>
        </div>
    </div>

    <div class="row">
        <!-- Pending Inquiries Card -->
        <div class="col-md-6 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-header bg-warning text-dark">
                    <h5 class="mb-0">
                        <i class="fas fa-inbox"></i> Pending Inquiries
                    </h5>
                </div>
                <div class="card-body">
                    <p class="card-text">
                        Review new client inquiries and approve or deny them.
                        <strong>{{ total_pending_leads }}</strong> inquiry(ies) pending.
                    </p>
                    <ul class="list-unstyled mb-3">
                        <li><i class="fas fa-check text-success"></i> Approve legitimate inquiries</li>
                        <li><i class="fas fa-times text-danger"></i> Deny spam/fake inquiries</li>
                        <li><i class="fas fa-eye"></i> View detailed client information</li>
                    </ul>
                    <a href="{% url 'admin_pending_inquiries' %}" class="btn btn-warning btn-lg w-100">
                        <i class="fas fa-inbox me-2"></i>View Pending Inquiries
                    </a>
                </div>
            </div>
        </div>

        <!-- Active Clients Card -->
        <div class="col-md-6 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-users"></i> Client Management
                    </h5>
                </div>
                <div class="card-body">
                    <p class="card-text">
                        Manage all clients and update their status.
                        <strong>{{ total_clients }}</strong> total client(s).
                    </p>
                    <ul class="list-unstyled mb-3">
                        <li><i class="fas fa-user-check text-success"></i> Active: {{ total_active }}</li>
                        <li><i class="fas fa-user-clock text-info"></i> Contacted: {{ total_contacted }}</li>
                        <li><i class="fas fa-user-times text-secondary"></i> Inactive: {{ total_inactive }}</li>
                    </ul>
                    <a href="{% url 'admin_active_clients' %}" class="btn btn-success btn-lg w-100">
                        <i class="fas fa-users me-2"></i>View All Clients
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Additional Links -->
    <div class="row mt-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-dark text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-cog"></i> Additional Management
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <a href="/admin/" class="btn btn-outline-dark w-100">
                                <i class="fas fa-tools me-2"></i>Django Admin Panel
                            </a>
                        </div>
                        <div class="col-md-4 mb-3">
                            <a href="{% url 'home' %}" class="btn btn-outline-dark w-100">
                                <i class="fas fa-home me-2"></i>Back to Website
                            </a>
                        </div>
                        <div class="col-md-4 mb-3">
                            <a href="/admin/logout/" class="btn btn-outline-danger w-100">
                                <i class="fas fa-sign-out-alt me-2"></i>Logout
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Statistics Summary -->
    <div class="row mt-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-light">
                    <h5 class="mb-0">
                        <i class="fas fa-chart-bar"></i> Lead Statistics
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row text-center">
                        <div class="col-md-4">
                            <h4>{{ total_pending_leads }}</h4>
                            <p class="text-muted">Pending Review</p>
                        </div>
                        <div class="col-md-4">
                            <h4>{{ total_approved_leads }}</h4>
                            <p class="text-muted">Approved Leads</p>
                        </div>
                        <div class="col-md-4">
                            <h4>{{ total_denied_leads }}</h4>
                            <p class="text-muted">Denied/Spam</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .card {
        transition: transform 0.2s;
    }
    .card:hover {
        transform: translateY(-5px);
    }
    .display-4 {
        font-weight: bold;
    }
</style>
{% endblock %}
